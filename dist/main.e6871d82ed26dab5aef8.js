(()=>{"use strict";async function t(t){try{const e=await fetch("http://localhost:3000/deletesql_todosapp",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await e.json()}catch(t){console.log(t)}}async function e(t){try{const e=await fetch("http://localhost:3000/updatesql_todosapp",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await e.json()}catch(t){console.log(t)}}function n(t,e){return t.reduce((function(t,n){return t+(n.State==e?1:0)}),0)}function a(t,e){document.querySelectorAll(".list__field");const n=document.querySelector(".list"),a=document.querySelectorAll(".Items_left"),r=document.querySelector("body");0===t.length?setTimeout((()=>{n.innerHTML='\n                <h2 class="list__empty">Keine Eintr√§ge</h2>\n            '}),2e3):n.innerHTML="";let i=0;if(0==e)for(let e of a)e.innerText=t.length;for(let a of t){if("Activ"==e&&"Finished"==a.State)continue;if("Completed"==e&&"Open"==a.State)continue;var s;if(i++,1==i?((s=document.createElement("div")).classList.add("list__field","list__field--list-first"),s.setAttribute("data-index",i)):((s=document.createElement("div")).classList.add("list__field","list__field--listing"),s.setAttribute("data-index",i)),r.classList.contains("body__darkmode")&&(s.style.backgroundColor="hsl(235, 24%, 19%)"),"Finished"==a.State){(d=document.createElement("div")).classList.add("list__btn--noborder"),(c=document.createElement("div")).classList.add("list__btn--onclick");var l=document.createElement("span");l.classList.add("list__btn--activ"),l.innerHTML="&#10004",c.appendChild(l),(o=document.createElement("p")).classList.add("list__text","list__text--finished"),o.innerText=a.Entry}else{var d;(d=document.createElement("div")).classList.add("list__btn");var o,c=document.createElement("div");r.classList.contains("body__darkmode")?c.classList.add("list__btn--gradientdark"):c.classList.add("list__btn--gradient"),(o=document.createElement("p")).classList.add("list__text"),o.innerText=a.Entry}let t=document.createElement("div");t.classList.add("list__text--center");let _=document.createElement("span");_.classList.add("list__marker"),_.innerHTML="&#10006",d.appendChild(c),t.appendChild(o),s.appendChild(d),s.appendChild(t),s.appendChild(_),n.appendChild(s)}let _=JSON.stringify(t);localStorage.setItem("TODOS",_)}function r(){var t=document.querySelectorAll(".list__field");const e=document.querySelector("body"),n=document.querySelector(".Input__field"),a=document.querySelector(".Input__input-field"),r="hsl(235, 24%, 19%)";var i,s;if(document.body.classList.toggle("body__darkmode"),e.classList.contains("body__darkmode")){(s=document.querySelector(".Input__btn--gradient")).classList.remove("Input__btn--gradient"),s.classList.add("Input__btn--gradientdark"),i=document.querySelectorAll(".list__btn--gradient");for(let t of i)t.classList.remove("list__btn--gradient"),t.classList.add("list__btn--gradientdark");n.style.backgroundColor=r,a.style.backgroundColor=r;for(let e of t)e.style.backgroundColor=r}else{(s=document.querySelector(".Input__btn--gradientdark")).classList.remove("Input__btn--gradientdark"),s.classList.add("Input__btn--gradient"),i=document.querySelectorAll(".list__btn--gradientdark");for(let t of i)t.classList.remove("list__btn--gradientdark"),t.classList.add("list__btn--gradient");n.style.backgroundColor="white",a.style.backgroundColor="white";for(let e of t)e.style.backgroundColor="white"}}function i(t,n){let a=t.target.parentNode.parentNode.getAttribute("data-index");n[a-1].State="Finished",e(n[a-1]),t.target.parentNode.classList.remove("list__btn"),t.target.parentNode.classList.add("list__btn--noborder"),t.target.classList.remove("list__btn--gradient"),t.target.classList.remove("list__btn--gradientdark"),t.target.classList.add("list__btn--onclick");let r=document.createElement("span");return r.classList.add("list__btn--activ"),r.innerHTML="&#10004",t.target.appendChild(r),t.target.parentNode.parentNode.children[1].children[0].classList.add("list__text--finished"),n}const s=document.querySelector(".App_title__sun"),l=document.querySelector(".App_title__moon"),d=(document.querySelector("body"),document.querySelector(".Input__field"),document.querySelector(".list")),o=document.querySelector(".list__fixed");var c=document.querySelector(".Input__input-field"),_=(document.querySelectorAll(".list__field"),[]);!function(_){function u(r){var s=document.querySelectorAll(".Items_left"),l=0;if(r.target.matches(".list__btn--gradient")&&(l=1,a(_=i(r,_),0)),r.target.matches(".list__btn--gradientdark")&&(l=1,a(_=i(r,_),0)),(r.target.matches(".list__btn--onclick")||r.target.matches(".list__btn--activ"))&&0==l&&(_=function(t,n){const a=document.querySelector("body");if(t.target.classList.contains("list__btn--onclick")){let r=t.target.parentNode.parentNode.getAttribute("data-index");n[r-1].State="Open",e(n[r-1]),t.target.parentNode.parentNode.children[1].children[0].classList.remove("list__text--finished"),t.target.parentNode.classList.remove("list__btn--noborder"),t.target.parentNode.classList.add("list__btn"),t.target.classList.remove("list__btn--onclick"),a.classList.contains("body__darkmode")?t.target.classList.add("list__btn--gradientdark"):t.target.classList.add("list__btn--gradient"),t.target.innerHTML=""}else{let r=t.target.parentNode.parentNode.parentNode.getAttribute("data-index");n[r-1].State="Open",e(n[r-1]),t.target.parentNode.parentNode.parentNode.children[1].children[0].classList.remove("list__text--finished"),t.target.parentNode.parentNode.classList.remove("list__btn--noborder"),t.target.parentNode.parentNode.classList.add("list__btn"),t.target.parentNode.classList.remove("list__btn--onclick"),a.classList.contains("body__darkmode")?t.target.parentNode.classList.add("list__btn--gradientdark"):t.target.parentNode.classList.add("list__btn--gradient"),t.target.parentNode.innerHTML=""}return n}(r,_),l=1,a(_,0)),r.target.matches(".list__marker")&&(_=function(e,n){let a=e.target.parentNode.getAttribute("data-index");return t(n[a-1]),n.splice(a-1,1),e.target.parentNode.remove(),n}(r,_),a(_,0)),r.target.matches(".list__textlast")&&a(_=_.filter((t=>"Open"==t.State)),0),r.target.matches(".list__text-liststatus")){if("All"==r.target.innerText&&(a(_,0),s.innerText=_.length),"Active"==r.target.innerText){let t="Activ";for(let t of s)t.innerHTML=n(_,"Open");a(_,t)}if("Completed"==r.target.innerText){let t="Completed";for(let t of s)t.innerText=n(_,"Finished");a(_,t)}"Clear Completed"==r.target.innerText&&(t(_.filter((t=>"Finished"==t.State))),a(_=_.filter((t=>"Open"==t.State)),0))}l=0}a(_,0),l.addEventListener("click",r),s.addEventListener("click",r),d.addEventListener("click",u),o.addEventListener("click",u),c.addEventListener("keyup",(async t=>{if("Enter"==t.key&&""!=c.value){let t={Entry:c.value,State:"Open"};_.unshift(t),c.value="",a(_,0)}}))}(_=function(t){return localStorage.getItem("TODOS")&&"[]"!=localStorage.getItem("TODOS")&&(t=JSON.parse(localStorage.getItem("TODOS"))),t}(_))})();